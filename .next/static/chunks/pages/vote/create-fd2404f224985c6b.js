(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[648],{2098:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vote/create",function(){return n(9007)}])},8385:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(5893),i=n(8005);function l(e){return(0,a.jsxs)("div",{className:"w-1/3 flex flex-col items-center justify-center cursor-pointer bg-zinc-100 aspect-square text-zinc-400 hover:bg-sky-500 hover:text-white",onClick:e.onClick,children:[(0,a.jsx)(i.Z,{className:"w-1/3"}),(0,a.jsx)("span",{className:"text-sm",children:"Tambah"})]})}},1206:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});var a=n(5893),i=n(7294),l=n(570),s=n(745);function o(e){var t=(0,i.useState)(e.isOpen),n=t[0],s=t[1];return(0,a.jsxs)("div",{className:"relative z-10 ".concat(!n&&"hidden"),"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-zinc-900 bg-opacity-40 transition-opacity"}),(0,a.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-end justify-center text-center sm:items-center sm:p-0",children:(0,a.jsx)("div",{className:"relative transform overflow-hidden bg-white text-left shadow-xl transition-all p-4 rounded-md",children:(0,a.jsxs)("div",{className:"w-full p-5 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold",children:e.title||"Title"}),(0,a.jsx)("p",{className:"text-lg",children:e.subtitle||"Sub Title"}),(0,a.jsxs)("div",{className:"space-x-3 mt-5",children:[(0,a.jsx)("button",{className:"text-sm bg-zinc-100 px-2 py-1 hover:bg-zinc-200",onClick:function(){e.onNegativeClick,s(!1)},children:e.negativeText||"Kembali"}),(0,a.jsx)(l.Z,{className:"".concat(!e.onPositiveClick&&"hidden"),onClick:function(){e.onPositiveClick&&e.onPositiveClick(),s(!1)},size:"sm",text:e.positiveText||"Ya"})]})]})})})})]})}function r(e){var t=document.createElement("div");t.id="alert",document.body.appendChild(t),(0,s.createRoot)(t).render((0,a.jsx)(o,{isOpen:!0,title:e.title,subtitle:e.subtitle,positiveText:e.positiveText,negativeText:e.negativeText,onPositiveClick:e.onPositiveClick,onNegativeClick:e.onNegativeClick}))}},570:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(5893);function i(e){return(0,a.jsx)("button",{disabled:e.isLoading,onClick:function(t){t.preventDefault(),e.onClick()},className:"bg-sky-500 text-white  hover:bg-sky-400 font-bold rounded-md  \n      ".concat(e.className," ").concat("sm"===e.size?"py-1 px-2 text-sm ":"lg"===e.size?"py-3 px-4":"py-2 px-3"),children:e.isLoading?"Loading...":e.text})}},8384:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(1799),i=n(9396),l=n(5893),s=n(7294),o=n(256),r=n(9994);function c(e){var t=(0,s.useState)({key:0,name:"",title:""}),n=t[0],c=t[1];return(0,s.useEffect)(function(){c(e.candidate)},[e.candidate]),(0,s.useEffect)(function(){e.submitCandidate(n)},[n]),(0,l.jsxs)("div",{className:"flex flex-col border border-zinc-100 p-5 shadow-md shadow-zinc-100",children:[(0,l.jsx)("div",{className:"self-end",children:(0,l.jsx)(o.Z,{className:"h-6 w-6 cursor-pointer hover:bg-zinc-100 text-zinc-300",onClick:function(){return e.removeCandidateForm(n.key)}})}),(0,l.jsx)("h1",{className:"flex w-1/2 bg-zinc-100 aspect-square self-center text-center justify-center items-center text-4xl rounded-full",children:e.candidate.key}),(0,l.jsx)("label",{className:"text-sm mt-3 mb-1",children:"Nama Calon Kandidat Ketua"}),(0,l.jsx)(r.Z,{value:n.name,onChange:function(e){c((0,i.Z)((0,a.Z)({},n),{name:e}))},placeholder:"Masukkan Nama Kandidat"})]})}},9994:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(5893);function i(e){return(0,a.jsx)("input",{type:"text",className:" border bg-zinc-100 border-transparent py-2 px-3 ".concat(e.className),placeholder:e.placeholder,onChange:function(t){return e.onChange(t.target.value)},value:e.value})}},2825:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(5893),i=n(1664),l=n.n(i),s=n(3299),o=n(570);function r(){var e=(0,s.useSession)().data;return(0,a.jsxs)("div",{className:"flex justify-between py-3 container mx-auto",children:[(0,a.jsx)(l(),{href:"/",children:(0,a.jsx)("a",{className:"font-bold text-2xl",children:"Voting-Ku"})}),e?(0,a.jsxs)("div",{className:"space-x-3",children:[(0,a.jsx)("span",{children:e.user.name}),(0,a.jsx)(o.Z,{onClick:s.signOut,text:"Logout"})]}):(0,a.jsx)(o.Z,{onClick:s.signIn,text:"Login"})]})}},2670:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var a=n(5893),i=n(3299),l=n(9008),s=n.n(l),o=n(5675),r=n.n(o),c=n(570);function u(){return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen space-y-5",children:[(0,a.jsx)(s(),{children:(0,a.jsx)("title",{children:"Login"})}),(0,a.jsx)(r(),{src:"/images/yah.png",alt:"thinking",width:200,height:200}),(0,a.jsx)("h1",{className:"text-4xl font-bold",children:"Login Dulu Ya!"}),(0,a.jsx)("h2",{children:"Untuk mengakses halaman ini, kamu wajib login terlebih dahulu"}),(0,a.jsx)(c.Z,{onClick:i.signIn,text:"Login",size:"lg"})]})}},1210:function(e,t){"use strict";function n(e,t,n,a){return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.getDomainLocale=n,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8418:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4941).Z;n(5753).default,Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(2648).Z,l=n(7273).Z,s=i(n(7294)),o=n(6273),r=n(2725),c=n(3462),u=n(1018),d=n(7190),f=n(1210),x=n(8684),h={};function p(e,t,n,a){if(e&&o.isLocalURL(t)){Promise.resolve(e.prefetch(t,n,a)).catch(function(e){});var i=a&&void 0!==a.locale?a.locale:e&&e.locale;h[t+"%"+n+(i?"%"+i:"")]=!0}}var m=s.default.forwardRef(function(e,t){var n,i,m=e.href,v=e.as,j=e.children,g=e.prefetch,b=e.passHref,y=e.replace,N=e.shallow,C=e.scroll,k=e.locale,w=e.onClick,L=e.onMouseEnter,_=e.onTouchStart,Z=e.legacyBehavior,T=void 0===Z?!0!==Boolean(!1):Z,z=l(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);n=j,T&&("string"==typeof n||"number"==typeof n)&&(n=s.default.createElement("a",null,n));var E=!1!==g,M=s.default.useContext(c.RouterContext),P=s.default.useContext(u.AppRouterContext);P&&(M=P);var S=s.default.useMemo(function(){var e=a(o.resolveHref(M,m,!0),2),t=e[0],n=e[1];return{href:t,as:v?o.resolveHref(M,v):n||t}},[M,m,v]),R=S.href,O=S.as,D=s.default.useRef(R),K=s.default.useRef(O);T&&(i=s.default.Children.only(n));var B=T?i&&"object"==typeof i&&i.ref:t,U=a(d.useIntersection({rootMargin:"200px"}),3),V=U[0],F=U[1],A=U[2],H=s.default.useCallback(function(e){(K.current!==O||D.current!==R)&&(A(),K.current=O,D.current=R),V(e),B&&("function"==typeof B?B(e):"object"==typeof B&&(B.current=e))},[O,B,R,A,V]);s.default.useEffect(function(){var e=F&&E&&o.isLocalURL(R),t=void 0!==k?k:M&&M.locale,n=h[R+"%"+O+(t?"%"+t:"")];e&&!n&&p(M,R,O,{locale:t})},[O,R,F,k,E,M]);var I={ref:H,onClick:function(e){T||"function"!=typeof w||w(e),T&&i.props&&"function"==typeof i.props.onClick&&i.props.onClick(e),e.defaultPrevented||function(e,t,n,a,i,l,r,c,u,d){if("A"!==e.currentTarget.nodeName.toUpperCase()||(!(x=(f=e).currentTarget.target)||"_self"===x)&&!f.metaKey&&!f.ctrlKey&&!f.shiftKey&&!f.altKey&&(!f.nativeEvent||2!==f.nativeEvent.which)&&o.isLocalURL(n)){e.preventDefault();var f,x,h=function(){"beforePopState"in t?t[i?"replace":"push"](n,a,{shallow:l,locale:c,scroll:r}):t[i?"replace":"push"](n,{forceOptimisticNavigation:!d})};u?s.default.startTransition(h):h()}}(e,M,R,O,y,N,C,k,Boolean(P),E)},onMouseEnter:function(e){T||"function"!=typeof L||L(e),T&&i.props&&"function"==typeof i.props.onMouseEnter&&i.props.onMouseEnter(e),!(!E&&P)&&o.isLocalURL(R)&&p(M,R,O,{priority:!0})},onTouchStart:function(e){T||"function"!=typeof _||_(e),T&&i.props&&"function"==typeof i.props.onTouchStart&&i.props.onTouchStart(e),!(!E&&P)&&o.isLocalURL(R)&&p(M,R,O,{priority:!0})}};if(!T||b||"a"===i.type&&!("href"in i.props)){var J=void 0!==k?k:M&&M.locale,q=M&&M.isLocaleDomain&&f.getDomainLocale(O,J,M.locales,M.domainLocales);I.href=q||x.addBasePath(r.addLocale(O,J,M&&M.defaultLocale))}return T?s.default.cloneElement(i,I):s.default.createElement("a",Object.assign({},z,I),n)});t.default=m,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1018:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateContext=t.GlobalLayoutRouterContext=t.LayoutRouterContext=t.AppRouterContext=void 0;var a=(0,n(2648).Z)(n(7294)),i=a.default.createContext(null);t.AppRouterContext=i;var l=a.default.createContext(null);t.LayoutRouterContext=l;var s=a.default.createContext(null);t.GlobalLayoutRouterContext=s;var o=a.default.createContext(null);t.TemplateContext=o},9007:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var a=n(797),i=n(5893),l=n(3299),s=n(9008),o=n.n(s),r=n(5675),c=n.n(r),u=n(7294),d=n(9198),f=n.n(d),x=n(570),h=n(2825);n(9828);var p=n(8384),m=n(8385),v=n(1163),j=n(9994),g=n(2670),b=n(2728),y=n(1206);function N(){var e=(0,l.useSession)().data,t=(0,v.useRouter)(),n=(0,u.useState)(new Date),s=n[0],r=n[1],d=(0,u.useState)(new Date),b=d[0],N=d[1],C=(0,u.useState)([]),k=C[0],w=C[1],L=(0,u.useState)(""),_=L[0],Z=L[1],T=(0,u.useState)(!1),z=(T[0],T[1]);if(!e)return(0,i.jsx)(g.Z,{});var E=function(){var e={name:"",key:k.length+1,title:""};w((0,a.Z)(k).concat([e]))},M=function(e){var t=k.filter(function(t){return t.key!==e});t.forEach(function(e,t){e.key=t+1}),w(t)},P=function(e){w(k.map(function(t){return t.key===e.key?e:t}))},S=function(){if(""===_){(0,y.w)({title:"Maaf",subtitle:"Judul tidak boleh kosong"});return}if(k.length<2){(0,y.w)({title:"Maaf",subtitle:"Minimal harus ada 2 kandidat"});return}if(s>b){(0,y.w)({title:"Maaf",subtitle:"Tanggal mulai tidak boleh lebih besar dari tanggal selesai"});return}if(k.some(function(e){return""===e.name})){(0,y.w)({title:"Upss",subtitle:"Nama Kandidat tidak boleh kosong"});return}z(!0),fetch("/api/votes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:_,startDate:s,endDate:b,candidates:k,publisher:e.user.email})}).then(function(e){return e.json()}).then(function(e){t.push("/vote/success")}).finally(function(){z(!1)})};return(0,i.jsxs)("div",{children:[(0,i.jsx)(o(),{children:(0,i.jsx)("title",{children:"Voting Baru"})}),(0,i.jsx)(h.Z,{}),(0,i.jsxs)("div",{className:"container mx-auto py-10",children:[(0,i.jsx)(c(),{src:"/images/buatvote.png",alt:"vote",width:300,height:300,objectFit:"contain"}),(0,i.jsx)("h1",{className:"text-4xl font-bold ",children:"Buat Voting Baru"}),(0,i.jsx)("h2",{className:"text-zinc-700 mt-3",children:"Silahkan masukkan data yang dibutuhkan sebelum membuat vote online"}),(0,i.jsxs)("form",{className:"flex flex-col",children:[(0,i.jsxs)("div",{className:"space-y-5",children:[(0,i.jsx)("h3",{className:"font-medium text-xl mt-10",children:"Detail Voting"}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("label",{className:"text-sm",children:"Judul"}),(0,i.jsx)(j.Z,{onChange:Z,value:_,placeholder:"Contoh : Voting Calon Ketua BEM Periode 2023/2024",className:"w-1/2"})]}),(0,i.jsxs)("div",{className:"flex flex-col w-2/3",children:[(0,i.jsx)("label",{className:"text-sm",children:"Kapan dimulai?"}),(0,i.jsxs)("div",{className:"inline-flex",children:[(0,i.jsx)(f(),{locale:"id",showTimeSelect:!0,dateFormat:"Pp",selected:s,minDate:new Date,onChange:function(e){return e&&r(e)},className:"w-full border bg-zinc-100 border-transparent py-2 px-3"}),(0,i.jsx)("span",{className:"text-sm text-center p-3",children:"sampai"}),(0,i.jsx)(f(),{locale:"id",showTimeSelect:!0,dateFormat:"Pp",selected:b,minDate:s,onChange:function(e){return e&&N(e)},className:"w-full border bg-zinc-100 border-transparent py-2 px-3"})]})]}),(0,i.jsx)("div",{className:"flex flex-col w-1/2",children:(0,i.jsx)("label",{className:"text-sm"})})]}),(0,i.jsx)("h3",{className:"font-medium text-xl mt-10",children:"Kandidat"}),(0,i.jsxs)("div",{className:"grid gap-4 grid-cols-4 mt-5",children:[k.map(function(e,t){return(0,i.jsx)(p.Z,{candidate:e,submitCandidate:P,removeCandidateForm:M},t)}),(0,i.jsx)(m.Z,{onClick:E})]}),(0,i.jsx)("div",{className:"py-10 text-right",children:(0,i.jsx)(x.Z,{text:"Buat Voting",size:"lg",onClick:S})})]})]})]})}(0,d.registerLocale)("id",b.Z)},1664:function(e,t,n){e.exports=n(8418)}},function(e){e.O(0,[959,786,774,888,179],function(){return e(e.s=2098)}),_N_E=e.O()}]);
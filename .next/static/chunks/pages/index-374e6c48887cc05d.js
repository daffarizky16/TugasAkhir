(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6222)}])},1206:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});var i=n(5893),a=n(7294),s=n(570),l=n(745);function c(e){var t=(0,a.useState)(e.isOpen),n=t[0],l=t[1];return(0,i.jsxs)("div",{className:"relative z-10 ".concat(!n&&"hidden"),"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[(0,i.jsx)("div",{className:"fixed inset-0 bg-zinc-900 bg-opacity-40 transition-opacity"}),(0,i.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,i.jsx)("div",{className:"flex min-h-full items-end justify-center text-center sm:items-center sm:p-0",children:(0,i.jsx)("div",{className:"relative transform overflow-hidden bg-white text-left shadow-xl transition-all p-4 rounded-md",children:(0,i.jsxs)("div",{className:"w-full p-5 text-center",children:[(0,i.jsx)("p",{className:"text-2xl font-bold",children:e.title||"Title"}),(0,i.jsx)("p",{className:"text-lg",children:e.subtitle||"Sub Title"}),(0,i.jsxs)("div",{className:"space-x-3 mt-5",children:[(0,i.jsx)("button",{className:"text-sm bg-zinc-100 px-2 py-1 hover:bg-zinc-200",onClick:function(){e.onNegativeClick,l(!1)},children:e.negativeText||"Kembali"}),(0,i.jsx)(s.Z,{className:"".concat(!e.onPositiveClick&&"hidden"),onClick:function(){e.onPositiveClick&&e.onPositiveClick(),l(!1)},size:"sm",text:e.positiveText||"Ya"})]})]})})})})]})}function r(e){var t=document.createElement("div");t.id="alert",document.body.appendChild(t),(0,l.createRoot)(t).render((0,i.jsx)(c,{isOpen:!0,title:e.title,subtitle:e.subtitle,positiveText:e.positiveText,negativeText:e.negativeText,onPositiveClick:e.onPositiveClick,onNegativeClick:e.onNegativeClick}))}},570:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(5893);function a(e){return(0,i.jsx)("button",{disabled:e.isLoading,onClick:function(t){t.preventDefault(),e.onClick()},className:"bg-sky-500 text-white  hover:bg-sky-400 font-bold rounded-md  \n      ".concat(e.className," ").concat("sm"===e.size?"py-1 px-2 text-sm ":"lg"===e.size?"py-3 px-4":"py-2 px-3"),children:e.isLoading?"Loading...":e.text})}},2825:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(5893),a=n(1664),s=n.n(a),l=n(3299),c=n(570);function r(){var e=(0,l.useSession)().data;return(0,i.jsxs)("div",{className:"flex justify-between py-3 container mx-auto",children:[(0,i.jsx)(s(),{href:"/",children:(0,i.jsx)("a",{className:"font-bold text-2xl",children:"Voting-Ku"})}),e?(0,i.jsxs)("div",{className:"space-x-3",children:[(0,i.jsx)("span",{children:e.user.name}),(0,i.jsx)(c.Z,{onClick:l.signOut,text:"Logout"})]}):(0,i.jsx)(c.Z,{onClick:l.signIn,text:"Login"})]})}},6222:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var i=n(5893),a=n(9008),s=n.n(a),l=n(2825),c=n(5675),r=n.n(c),o=n(1664),d=n.n(o),x=n(3299),u=n(8100),h=n(381),m=n.n(h),f=n(7294);let p=f.forwardRef(function({title:e,titleId:t,...n},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},n),e?f.createElement("title",{id:t},e):null,f.createElement("path",{fillRule:"evenodd",d:"M19.902 4.098a3.75 3.75 0 00-5.304 0l-4.5 4.5a3.75 3.75 0 001.035 6.037.75.75 0 01-.646 1.353 5.25 5.25 0 01-1.449-8.45l4.5-4.5a5.25 5.25 0 117.424 7.424l-1.757 1.757a.75.75 0 11-1.06-1.06l1.757-1.757a3.75 3.75 0 000-5.304zm-7.389 4.267a.75.75 0 011-.353 5.25 5.25 0 011.449 8.45l-4.5 4.5a5.25 5.25 0 11-7.424-7.424l1.757-1.757a.75.75 0 111.06 1.06l-1.757 1.757a3.75 3.75 0 105.304 5.304l4.5-4.5a3.75 3.75 0 00-1.035-6.037.75.75 0 01-.354-1z",clipRule:"evenodd"}))}),v=f.forwardRef(function({title:e,titleId:t,...n},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},n),e?f.createElement("title",{id:t},e):null,f.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z",clipRule:"evenodd"}))});function j(){return(0,i.jsx)("div",{className:"mx-auto text-center",children:"Loading..."})}var b=n(1206),g=function(){var e,t,n,a,c=(0,x.useSession)().data,o=(e=function(e){return fetch(e).then(function(e){return e.json()})},n=(t=(0,u.ZP)("/api/votes",e)).data,a=t.error,{votes:null==n?void 0:n.data,isLoading:!a&&!n,isError:a}),h=o.votes,g=o.isLoading,N=(0,f.useState)(),w=N[0],y=N[1];(0,f.useEffect)(function(){h&&y(h)},[h]);var k=(0,f.useState)(null),C=k[0],z=k[1],E=function(e){(0,b.w)({title:"Anda Yakin?",subtitle:"ingin menghapus data ini?",onPositiveClick:function(){z(e),fetch("/api/votes/".concat(e),{method:"DELETE"}).then(function(){(0,b.w)({title:"Berhasil",subtitle:"Data berhasil dihapus"}),y(null==w?void 0:w.filter(function(t){return t.code!==e}))}).catch(function(){(0,b.w)({title:"Gagal",subtitle:"Data gagal dihapus"})}).finally(function(){z(null)})}})};return(0,i.jsxs)("div",{children:[(0,i.jsxs)(s(),{children:[(0,i.jsx)("title",{children:"Voting-Ku"}),(0,i.jsx)("meta",{name:"description",content:"Voting App No.1 di Indonesia"}),(0,i.jsx)("link",{rel:"icon",href:"/icon.svg"})]}),(0,i.jsx)(l.Z,{}),(0,i.jsxs)("div",{className:"flex flex-col container mx-auto justify-center py-44 m-auto space-y-3",children:[(0,i.jsx)("h1",{className:"text-center text-5xl font-bold",children:"Ayo Mulai Voting"}),(0,i.jsx)("div",{className:"text-center ",children:(0,i.jsx)("span",{className:"text-lg bg-zinc-100 py-1 px-3 font-medium",children:"Web Voting Calon Ketua BEM Institut Teknologi Mitra Gama"})}),(0,i.jsx)(r(),{src:"/images/landingpage.png",alt:"Picture of the header",width:300,height:300,priority:!0,objectPosition:"center",objectFit:"contain"}),(0,i.jsxs)("div",{className:"flex flex-row items-center justify-center space-x-5",children:[(0,i.jsx)(d(),{href:"/vote/create",children:(0,i.jsx)("a",{className:"bg-sky-500 hover:bg-sky-400 text-sm font-bold text-white w-40 text-center py-3 border-2 border-transparent ",children:"Buat Vote Baru"})}),(0,i.jsx)("span",{children:"atau"}),(0,i.jsx)(d(),{href:"/participant",children:(0,i.jsx)("a",{className:"bg-white text-sm font-bold text-zinc-800 border-sky-500 border-2 w-40 text-center py-3 hover:bg-sky-500 hover:text-white",children:"Ikutan Vote"})})]})]}),c&&(0,i.jsxs)("div",{className:"container mx-auto mb-10",children:[(0,i.jsx)("p",{className:"p-5 text-lg font-bold",children:"Vote Yang Saya Buat \uD83D\uDDF3"}),g?(0,i.jsx)(j,{}):w&&w.length>0?(0,i.jsxs)("table",{className:"table-auto w-full border border-zinc-100",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{className:"border-b border-zinc-100",children:[(0,i.jsx)("th",{className:"text-left p-5",children:"No"}),(0,i.jsx)("th",{className:"text-left p-5",children:"Judul"}),(0,i.jsx)("th",{className:"text-left p-5",children:"Kandidat"}),(0,i.jsx)("th",{className:"text-left p-5",children:"Kode"}),(0,i.jsx)("th",{className:"text-left p-5",children:"Mulai"}),(0,i.jsx)("th",{className:"text-left p-5",children:"Selesai"}),(0,i.jsx)("th",{className:"text-left p-5"})]})}),(0,i.jsx)("tbody",{children:null==w?void 0:w.map(function(e,t){return(0,i.jsxs)("tr",{className:"".concat(e.code===C&&"animate-pulse"),children:[(0,i.jsx)("td",{className:"p-5 text-left",children:t+1}),(0,i.jsx)("td",{className:"p-5 text-left font-medium text-blue-500",children:(0,i.jsx)("a",{href:"/vote/detail/".concat(e.code),target:"_blank",rel:"noreferrer noopener",children:e.title})}),(0,i.jsx)("td",{className:"p-5 text-left",children:e.candidates.map(function(t,n){return(0,i.jsx)("span",{children:t.name+(n<e.candidates.length-1?" vs ":"")},n)})}),(0,i.jsx)("td",{className:"p-5 text-left font-bold",children:e.code}),(0,i.jsx)("td",{className:"p-5 text-left text-sm",children:m()(e.startDateTime).format("DD MMM YYYY hh:mm a")}),(0,i.jsx)("td",{className:"p-5 text-left text-sm",children:m()(e.endDateTime).format("DD MMM YYYY hh:mm a")}),(0,i.jsxs)("td",{className:"p-5 text-left text-sm",children:[(0,i.jsx)("a",{href:"/participant/".concat(e.code),target:"_blank",rel:"noreferrer noopener",children:(0,i.jsx)(p,{className:"w-8 h-8 p-2 hover:bg-zinc-100 rounded-md"})}),(0,i.jsx)("button",{onClick:function(){return E(e.code)},children:(0,i.jsx)(v,{className:"w-8 h-8 p-2 hover:bg-zinc-100 rounded-md"})})]})]},t)})})]}):(0,i.jsx)("div",{className:"text-center bg-zinc-100 p-5 font-medium",children:"Belum ada Votes yang dibuat"})]}),(0,i.jsxs)("footer",{className:"footer bg-sky-500 text-white text-center py-4",children:["Created by ",(0,i.jsx)("span",{className:"font-bold",children:"Daffa Rizky"})]})]})}}},function(e){e.O(0,[885,959,875,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);